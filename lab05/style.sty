/* Variables with Stylus . . . but you don't seem them in the CSS! */
padding = 15px
border = 1px solid black

body
    font: 24px Helvetica
    background: #999999

#main
    min-height: 800px
    margin: 0px
    padding: 0px
    display: flex
    flex-flow: row

#main > article
    padding: padding
    border: border
    background: #dddd88
    flex: 3 1 60%
    order: 2

#main > nav
    padding: padding
    border: border
    background: #ccccff
    flex: 1 6 20%
    order: 1

#main > aside
    padding: padding
    border: border
    background: #ccccff
    flex: 1 6 20%
    order: 3
    font-style: italic

header, footer
    display: block
    padding: padding
    min-height: 100px
    border: border
    background: #ffeebb

header
  font-size: 40px
  font-weight: bold

footer
  font-size: 10px
  font-style: oblique

/* Too narrow to support three columns */
@media all and (max-width: 640px)
    #main, #page
        flex-direction: column

    #main > article, #main > nav, #main > aside
    /* Return them to document order */
        /* order: 0 */

    #main > nav, #main > aside, header, footer
        min-height: 50px
        max-height: 50px

    #main > nav
      order: -1
      text-align: left
